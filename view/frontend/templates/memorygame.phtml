<?php

use Magento\Framework\View\Element\Template;
use Xcom\MemoryGame\Magewire\MemoryGame;

/**
 * @var Template $block
 * @var MemoryGame $magewire
**/

$magewire->initialize();
?>

<div wire:poll.10000ms="$emitTo('memorygame', 'refresh')">
    <?php echo $magewire->checkYourTurn(); ?>
</div>

<div>
    <div class="grid grid-cols-4 gap-4">
        <?php
        foreach ($magewire->cards as $card):
            ?>
            <div>
                <?php if ($card['status'] == 0): ?>
                <img data-id="<?= $card['id'] ?>" src="<?=$block->getViewFileUrl('Xcom_MemoryGame::images/logo.svg') ?>"
                     wire:click="turnCard" />
                <?php else: ?>
                <img data-id="<?= $card['id'] ?>" src="<?= $card['url'] ?>" />
                <?php endif; ?>
            </div>
        <?php endforeach; ?>
    </div>
</div>
