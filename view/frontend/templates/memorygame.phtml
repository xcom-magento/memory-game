<?php

use Magento\Framework\View\Element\Template;
use Xcom\MemoryGame\Magewire\MemoryGame;

/**
 * @var Template $block
 * @var MemoryGame $magewire
 **/
?>
<div wire:poll.10000ms="$emitTo('memorygame', 'refresh')">
    <?php echo $magewire->checkYourTurn(); ?>
    <div class="grid grid-cols-4 gap-4">
        <?php
        foreach ($magewire->cards as $index => $card):
            ?>
            <div>
                <?php if ($card['status'] == 0): ?>
                    <img src="<?=$block->getViewFileUrl('Xcom_MemoryGame::images/logo.svg') ?>"
                         wire:click="turnCard('<?= $index ?>')" />
                <?php else: ?>
                    <img src="<?= $card['url'] ?>" />
                <?php endif; ?>
            </div>
        <?php endforeach; ?>
    </div>
</div>
